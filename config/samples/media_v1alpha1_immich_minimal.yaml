apiVersion: media.rm3l.org/v1alpha1
kind: Immich
metadata:
  name: immich-minimal
spec:
  # Minimal configuration - the operator provides:
  # - Built-in PostgreSQL with pgvecto.rs extension (auto-generated credentials)
  # - Built-in Valkey (Redis) for job queues
  # - Default images via RELATED_IMAGE_* env vars
  #
  # You only need to configure library storage!

  # Photo library storage
  immich:
    persistence:
      library:
        size: 100Gi

  # PostgreSQL credentials are auto-generated and stored in a secret
  # To provide your own password, uncomment:
  # postgres:
  #   passwordSecretRef:
  #     name: my-postgres-secret
  #     key: password
