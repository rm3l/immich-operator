apiVersion: media.rm3l.org/v1alpha1
kind: Immich
metadata:
  name: immich-minimal
spec:
  # Minimal configuration - requires:
  # 1. A PostgreSQL database
  # 2. A PVC for the photo library
  # Images are provided by the operator via RELATED_IMAGE_* env vars

  # PostgreSQL database configuration (required)
  postgres:
    host: postgres
    passwordSecretRef:
      name: immich-postgres
      key: password

  # Photo library storage (required)
  immich:
    persistence:
      library:
        existingClaim: immich-library
